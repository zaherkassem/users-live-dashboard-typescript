"use strict";
(self["webpackChunkusers_live_dashboard"] = self["webpackChunkusers_live_dashboard"] || []).push([["src_client_containers_dashboard_DashboardContainer_tsx"],{

/***/ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/client/components/popup/Popup.scss":
/*!*****************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/client/components/popup/Popup.scss ***!
  \*****************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/sourceMaps.js */ "./node_modules/css-loader/dist/runtime/sourceMaps.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__);
// Imports


var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1___default()((_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default()));
// Module
___CSS_LOADER_EXPORT___.push([module.id, `.popup {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: #fff;
  padding: 20px;
  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
}
.popup .close {
  float: right;
  font-size: 30px;
  text-decoration: none;
  margin-bottom: 20px;
  clear: both;
}
.popup .content {
  margin-top: 40px;
  min-width: 400px;
}`, "",{"version":3,"sources":["webpack://./src/client/components/popup/Popup.scss"],"names":[],"mappings":"AAAA;EACE,eAAA;EACA,QAAA;EACA,SAAA;EACA,gCAAA;EACA,gBAAA;EACA,aAAA;EACA,uCAAA;AACF;AACE;EACE,YAAA;EACA,eAAA;EACA,qBAAA;EACA,mBAAA;EACA,WAAA;AACJ;AACE;EACE,gBAAA;EACA,gBAAA;AACJ","sourcesContent":[".popup {\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  background: #fff;\r\n  padding: 20px;\r\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\r\n\r\n  .close{\r\n    float: right;\r\n    font-size: 30px;\r\n    text-decoration: none;\r\n    margin-bottom: 20px;\r\n    clear: both;\r\n  }\r\n  .content {\r\n    margin-top: 40px;\r\n    min-width: 400px;\r\n  }\r\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./src/client/components/popup/Popup.scss":
/*!************************************************!*\
  !*** ./src/client/components/popup/Popup.scss ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/styleDomAPI.js */ "./node_modules/style-loader/dist/runtime/styleDomAPI.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/insertBySelector.js */ "./node_modules/style-loader/dist/runtime/insertBySelector.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js */ "./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/insertStyleElement.js */ "./node_modules/style-loader/dist/runtime/insertStyleElement.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! !../../../../node_modules/style-loader/dist/runtime/styleTagTransform.js */ "./node_modules/style-loader/dist/runtime/styleTagTransform.js");
/* harmony import */ var _node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_Popup_scss__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! !!../../../../node_modules/css-loader/dist/cjs.js!../../../../node_modules/sass-loader/dist/cjs.js!./Popup.scss */ "./node_modules/css-loader/dist/cjs.js!./node_modules/sass-loader/dist/cjs.js!./src/client/components/popup/Popup.scss");

      
      
      
      
      
      
      
      
      

var options = {};

options.styleTagTransform = (_node_modules_style_loader_dist_runtime_styleTagTransform_js__WEBPACK_IMPORTED_MODULE_5___default());
options.setAttributes = (_node_modules_style_loader_dist_runtime_setAttributesWithoutAttributes_js__WEBPACK_IMPORTED_MODULE_3___default());

      options.insert = _node_modules_style_loader_dist_runtime_insertBySelector_js__WEBPACK_IMPORTED_MODULE_2___default().bind(null, "head");
    
options.domAPI = (_node_modules_style_loader_dist_runtime_styleDomAPI_js__WEBPACK_IMPORTED_MODULE_1___default());
options.insertStyleElement = (_node_modules_style_loader_dist_runtime_insertStyleElement_js__WEBPACK_IMPORTED_MODULE_4___default());

var update = _node_modules_style_loader_dist_runtime_injectStylesIntoStyleTag_js__WEBPACK_IMPORTED_MODULE_0___default()(_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_Popup_scss__WEBPACK_IMPORTED_MODULE_6__["default"], options);




       /* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (_node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_Popup_scss__WEBPACK_IMPORTED_MODULE_6__["default"] && _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_Popup_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals ? _node_modules_css_loader_dist_cjs_js_node_modules_sass_loader_dist_cjs_js_Popup_scss__WEBPACK_IMPORTED_MODULE_6__["default"].locals : undefined);


/***/ }),

/***/ "./src/client/components/dashboard/Dashboard.tsx":
/*!*******************************************************!*\
  !*** ./src/client/components/dashboard/Dashboard.tsx ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _popup_Popup__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../popup/Popup */ "./src/client/components/popup/Popup.tsx");
/* harmony import */ var _config_config__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../config/config */ "./src/client/config/config.tsx");
/* harmony import */ var _services_httpService__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../services/httpService */ "./src/client/services/httpService.tsx");
var __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {
    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }
    return new (P || (P = Promise))(function (resolve, reject) {
        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }
        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }
        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }
        step((generator = generator.apply(thisArg, _arguments || [])).next());
    });
};

 //User details popup


const Dashboard = () => {
    const [userData, setUserData] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});
    const [userDetails, setUserDetails] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)({});
    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
    const [isError, setIsError] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
    const [isOpen, setIsOpen] = (0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(false);
    const togglePopup = () => {
        //  setUserInfo(user);
        setIsOpen(!isOpen);
    };
    const getUsers = () => __awaiter(void 0, void 0, void 0, function* () {
        setIsLoading(true);
        setIsError(false);
        let jsonData;
        let session_id = localStorage.getItem('session_id');
        let session_id_term = '?session_id=' + session_id;
        if (!session_id) {
            session_id_term = '';
        }
        try {
            const response = yield _services_httpService__WEBPACK_IMPORTED_MODULE_3__.fetchEntity('users');
            jsonData = yield response.data.data;
            console.log({ data: jsonData });
        }
        catch (error) {
            setIsError(true);
        }
        setUserData(jsonData);
        setIsLoading(false);
    });
    (0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)(() => {
        getUsers();
        let timer = setInterval(() => getUsers(), _config_config__WEBPACK_IMPORTED_MODULE_2__.PING_DELAY);
        return () => {
            clearInterval(timer);
            timer = null;
        };
    }, []);
    const getUser = (user) => __awaiter(void 0, void 0, void 0, function* () {
        setIsLoading(true);
        setIsError(false);
        let jsonData = [];
        let session_id = localStorage.getItem('session_id');
        let session_id_term = '&session_id=' + session_id;
        if (!session_id) {
            session_id_term = '';
        }
        try {
            const response = yield _services_httpService__WEBPACK_IMPORTED_MODULE_3__.fetchEntityById('online_users', user.id);
            jsonData = yield response.data.data;
        }
        catch (error) {
            console.log({ error });
            setIsError(true);
        }
        setUserDetails(jsonData[0]);
        setIsLoading(false);
    });
    const handleCellClick = (user) => {
        getUser(user);
        togglePopup();
    };
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement("section", { className: "userList" },
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("table", null,
            react__WEBPACK_IMPORTED_MODULE_0__.createElement("thead", null,
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr", { className: "no-hover" },
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement("th", null,
                        react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", null, "Id")),
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement("th", null,
                        react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", null, "Username")),
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement("th", null,
                        react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", null, "Login time")),
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement("th", null,
                        react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", null, "Last update time")),
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement("th", null,
                        react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", null, "Last Login")),
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement("th", null,
                        react__WEBPACK_IMPORTED_MODULE_0__.createElement("span", null, "User IP")))),
            react__WEBPACK_IMPORTED_MODULE_0__.createElement("tbody", null, userData &&
                Object.keys(userData).map((index) => (react__WEBPACK_IMPORTED_MODULE_0__.createElement("tr", { id: userData[index].hash, key: index, onClick: () => handleCellClick(userData[index]) },
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement("td", null, userData[index].id),
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement("td", null, userData[index].email),
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement("td", null, userData[index].login_time),
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement("td", null, userData[index].last_update_time),
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement("td", null, userData[index].last_login),
                    react__WEBPACK_IMPORTED_MODULE_0__.createElement("td", null, userData[index].user_ip)))))),
        isOpen && (react__WEBPACK_IMPORTED_MODULE_0__.createElement(_popup_Popup__WEBPACK_IMPORTED_MODULE_1__["default"], { handleClose: togglePopup },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("b", null, "Details of user"),
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("p", null,
                    "User-Agent: ", userDetails === null || userDetails === void 0 ? void 0 :
                    userDetails.user_agent),
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("p", null,
                    "Register time: ", userDetails === null || userDetails === void 0 ? void 0 :
                    userDetails.register_time,
                    " "),
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("p", null,
                    "Logins count: ", userDetails === null || userDetails === void 0 ? void 0 :
                    userDetails.logins_count))))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Dashboard);


/***/ }),

/***/ "./src/client/components/popup/Popup.tsx":
/*!***********************************************!*\
  !*** ./src/client/components/popup/Popup.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _Popup_scss__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Popup.scss */ "./src/client/components/popup/Popup.scss");


const Popup = (props) => {
    return (react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null,
        react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { id: "popup1", className: "overlay" },
            react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { className: "popup" },
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("a", { className: "close", onClick: props.handleClose }, "\u00D7"),
                react__WEBPACK_IMPORTED_MODULE_0__.createElement("div", { className: "content" }, props.children)))));
};
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Popup);


/***/ }),

/***/ "./src/client/containers/dashboard/DashboardContainer.tsx":
/*!****************************************************************!*\
  !*** ./src/client/containers/dashboard/DashboardContainer.tsx ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "default": () => (__WEBPACK_DEFAULT_EXPORT__)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var _components_dashboard_Dashboard__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../components/dashboard/Dashboard */ "./src/client/components/dashboard/Dashboard.tsx");


class DashboardContainer extends react__WEBPACK_IMPORTED_MODULE_0__.Component {
    constructor(props) {
        super(props);
    }
    render() {
        return react__WEBPACK_IMPORTED_MODULE_0__.createElement(_components_dashboard_Dashboard__WEBPACK_IMPORTED_MODULE_1__["default"], null);
    }
}
/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (DashboardContainer);


/***/ }),

/***/ "./src/client/services/httpService.tsx":
/*!*********************************************!*\
  !*** ./src/client/services/httpService.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   destroyEntity: () => (/* binding */ destroyEntity),
/* harmony export */   fetchEntity: () => (/* binding */ fetchEntity),
/* harmony export */   fetchEntityById: () => (/* binding */ fetchEntityById),
/* harmony export */   storeEntity: () => (/* binding */ storeEntity),
/* harmony export */   updateEntity: () => (/* binding */ updateEntity)
/* harmony export */ });
/* harmony import */ var _utils_httpUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../utils/httpUtil */ "./src/client/utils/httpUtil.tsx");
/* harmony import */ var _utils_serializeUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../utils/serializeUtil */ "./src/client/utils/serializeUtil.tsx");
// Import custom utils


const fetchEntity = (entityName) => {
    return (0,_utils_httpUtil__WEBPACK_IMPORTED_MODULE_0__.fetch)(entityName.toLowerCase());
};
const fetchEntityById = (entityName, dataId) => {
    return (0,_utils_httpUtil__WEBPACK_IMPORTED_MODULE_0__.fetch)((0,_utils_serializeUtil__WEBPACK_IMPORTED_MODULE_1__.getPathParam)(entityName.toLowerCase(), dataId));
};
const storeEntity = (entityName, data) => {
    return (0,_utils_httpUtil__WEBPACK_IMPORTED_MODULE_0__.store)(entityName.toLowerCase(), data);
};
const updateEntity = (entityName, data, dataId) => {
    return (0,_utils_httpUtil__WEBPACK_IMPORTED_MODULE_0__.update)((0,_utils_serializeUtil__WEBPACK_IMPORTED_MODULE_1__.getPathParam)(entityName.toLowerCase(), dataId), data);
};
const destroyEntity = (entityName, dataId) => {
    return (0,_utils_httpUtil__WEBPACK_IMPORTED_MODULE_0__.destroy)((0,_utils_serializeUtil__WEBPACK_IMPORTED_MODULE_1__.getPathParam)(entityName.toLowerCase(), dataId));
};


/***/ }),

/***/ "./src/client/utils/httpBaseUtil.tsx":
/*!*******************************************!*\
  !*** ./src/client/utils/httpBaseUtil.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   httpBase: () => (/* binding */ httpBase)
/* harmony export */ });
/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! axios */ "./node_modules/axios/lib/axios.js");
/* harmony import */ var _config_config__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../config/config */ "./src/client/config/config.tsx");
/* harmony import */ var _storageUtil__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./storageUtil */ "./src/client/utils/storageUtil.tsx");



const httpBase = () => {
    const api = axios__WEBPACK_IMPORTED_MODULE_2__["default"].create({
        baseURL: `${_config_config__WEBPACK_IMPORTED_MODULE_0__.API_URL}`,
        headers: {
            'Accept': 'application/json',
            'Content-Type': 'application/json',
            'X-XSRF-TOKEN': (0,_storageUtil__WEBPACK_IMPORTED_MODULE_1__.getLocalStorage)(_config_config__WEBPACK_IMPORTED_MODULE_0__.JWT_TOKEN)
        },
        responseType: 'json'
    });
    api.interceptors.response.use((response) => {
        return response;
    }, error => {
        if (401 === error.response.status) {
            // redirect to login page
        }
        if (404 === error.response.status) {
            // redirect to 404 page
        }
        if (500 === error.response.status) {
            // redirect to 500 page
        }
        return Promise.reject(error);
    });
    return api;
};


/***/ }),

/***/ "./src/client/utils/httpUtil.tsx":
/*!***************************************!*\
  !*** ./src/client/utils/httpUtil.tsx ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   destroy: () => (/* binding */ destroy),
/* harmony export */   fetch: () => (/* binding */ fetch),
/* harmony export */   store: () => (/* binding */ store),
/* harmony export */   update: () => (/* binding */ update)
/* harmony export */ });
/* harmony import */ var _httpBaseUtil__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./httpBaseUtil */ "./src/client/utils/httpBaseUtil.tsx");

const fetch = (endpoint) => {
    return (0,_httpBaseUtil__WEBPACK_IMPORTED_MODULE_0__.httpBase)()
        .get(endpoint);
};
const store = (endpoint, data) => {
    return (0,_httpBaseUtil__WEBPACK_IMPORTED_MODULE_0__.httpBase)()
        .post(endpoint, data);
};
const update = (endpoint, data) => {
    return (0,_httpBaseUtil__WEBPACK_IMPORTED_MODULE_0__.httpBase)()
        .put(endpoint, data);
};
const destroy = (endpoint) => {
    return (0,_httpBaseUtil__WEBPACK_IMPORTED_MODULE_0__.httpBase)()
        .delete(endpoint);
};


/***/ }),

/***/ "./src/client/utils/serializeUtil.tsx":
/*!********************************************!*\
  !*** ./src/client/utils/serializeUtil.tsx ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   getPathParam: () => (/* binding */ getPathParam),
/* harmony export */   getQueryParam: () => (/* binding */ getQueryParam)
/* harmony export */ });
function getQueryParam(data) {
    if (typeof (data) !== 'object') {
        return '?' + data;
    }
    var str = [];
    for (var p in data) {
        if (data[p] && data.hasOwnProperty(p)) {
            str.push(encodeURIComponent(p) + '=' + encodeURIComponent(data[p]));
        }
    }
    return '?' + str.join('&');
}
function getPathParam(...args) {
    var params = [];
    for (var a in args) {
        params.push(args[a]);
    }
    return params.join('/');
}


/***/ })

}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3JjX2NsaWVudF9jb250YWluZXJzX2Rhc2hib2FyZF9EYXNoYm9hcmRDb250YWluZXJfdHN4LmFwcC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ21IO0FBQ2pCO0FBQ2xHLDhCQUE4QixtRkFBMkIsQ0FBQyw0RkFBcUM7QUFDL0Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUMsT0FBTyx5R0FBeUcsVUFBVSxVQUFVLFVBQVUsV0FBVyxXQUFXLFVBQVUsV0FBVyxLQUFLLEtBQUssVUFBVSxVQUFVLFdBQVcsV0FBVyxVQUFVLEtBQUssS0FBSyxXQUFXLFdBQVcsaUNBQWlDLHNCQUFzQixlQUFlLGdCQUFnQix1Q0FBdUMsdUJBQXVCLG9CQUFvQiw4Q0FBOEMsaUJBQWlCLHFCQUFxQix3QkFBd0IsOEJBQThCLDRCQUE0QixvQkFBb0IsT0FBTyxnQkFBZ0IseUJBQXlCLHlCQUF5QixPQUFPLEtBQUssbUJBQW1CO0FBQ2x1QjtBQUNBLGlFQUFlLHVCQUF1QixFQUFDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ3pCdkMsTUFBd0c7QUFDeEcsTUFBOEY7QUFDOUYsTUFBcUc7QUFDckcsTUFBd0g7QUFDeEgsTUFBaUg7QUFDakgsTUFBaUg7QUFDakgsTUFBOEo7QUFDOUo7QUFDQTs7QUFFQTs7QUFFQSw0QkFBNEIscUdBQW1CO0FBQy9DLHdCQUF3QixrSEFBYTs7QUFFckMsdUJBQXVCLHVHQUFhO0FBQ3BDO0FBQ0EsaUJBQWlCLCtGQUFNO0FBQ3ZCLDZCQUE2QixzR0FBa0I7O0FBRS9DLGFBQWEsMEdBQUcsQ0FBQyw0SEFBTzs7OztBQUl3RztBQUNoSSxPQUFPLGlFQUFlLDRIQUFPLElBQUksNEhBQU8sVUFBVSw0SEFBTyxtQkFBbUIsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzFCN0UsaUJBQWlCLFNBQUksSUFBSSxTQUFJO0FBQzdCLDRCQUE0QiwrREFBK0QsaUJBQWlCO0FBQzVHO0FBQ0Esb0NBQW9DLE1BQU0sK0JBQStCLFlBQVk7QUFDckYsbUNBQW1DLE1BQU0sbUNBQW1DLFlBQVk7QUFDeEYsZ0NBQWdDO0FBQ2hDO0FBQ0EsS0FBSztBQUNMO0FBQ21EO0FBQ2hCLENBQUM7QUFDYTtBQUNTO0FBQzFEO0FBQ0Esb0NBQW9DLCtDQUFRLEdBQUc7QUFDL0MsMENBQTBDLCtDQUFRLEdBQUc7QUFDckQsc0NBQXNDLCtDQUFRO0FBQzlDLGtDQUFrQywrQ0FBUTtBQUMxQyxnQ0FBZ0MsK0NBQVE7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyw4REFBdUI7QUFDMUQ7QUFDQSwwQkFBMEIsZ0JBQWdCO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxJQUFJLGdEQUFTO0FBQ2I7QUFDQSxrREFBa0Qsc0RBQVU7QUFDNUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBbUMsa0VBQTJCO0FBQzlEO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQixPQUFPO0FBQ2pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBWSxnREFBbUIsY0FBYyx1QkFBdUI7QUFDcEUsUUFBUSxnREFBbUI7QUFDM0IsWUFBWSxnREFBbUI7QUFDL0IsZ0JBQWdCLGdEQUFtQixTQUFTLHVCQUF1QjtBQUNuRSxvQkFBb0IsZ0RBQW1CO0FBQ3ZDLHdCQUF3QixnREFBbUI7QUFDM0Msb0JBQW9CLGdEQUFtQjtBQUN2Qyx3QkFBd0IsZ0RBQW1CO0FBQzNDLG9CQUFvQixnREFBbUI7QUFDdkMsd0JBQXdCLGdEQUFtQjtBQUMzQyxvQkFBb0IsZ0RBQW1CO0FBQ3ZDLHdCQUF3QixnREFBbUI7QUFDM0Msb0JBQW9CLGdEQUFtQjtBQUN2Qyx3QkFBd0IsZ0RBQW1CO0FBQzNDLG9CQUFvQixnREFBbUI7QUFDdkMsd0JBQXdCLGdEQUFtQjtBQUMzQyxZQUFZLGdEQUFtQjtBQUMvQixzREFBc0QsZ0RBQW1CLFNBQVMsdUZBQXVGO0FBQ3pLLG9CQUFvQixnREFBbUI7QUFDdkMsb0JBQW9CLGdEQUFtQjtBQUN2QyxvQkFBb0IsZ0RBQW1CO0FBQ3ZDLG9CQUFvQixnREFBbUI7QUFDdkMsb0JBQW9CLGdEQUFtQjtBQUN2QyxvQkFBb0IsZ0RBQW1CO0FBQ3ZDLG1CQUFtQixnREFBbUIsQ0FBQyxvREFBSyxJQUFJLDBCQUEwQjtBQUMxRSxZQUFZLGdEQUFtQixDQUFDLDJDQUFjO0FBQzlDLGdCQUFnQixnREFBbUI7QUFDbkMsZ0JBQWdCLGdEQUFtQjtBQUNuQztBQUNBO0FBQ0EsZ0JBQWdCLGdEQUFtQjtBQUNuQztBQUNBO0FBQ0E7QUFDQSxnQkFBZ0IsZ0RBQW1CO0FBQ25DO0FBQ0E7QUFDQTtBQUNBLGlFQUFlLFNBQVMsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqSE07QUFDVDtBQUN0QjtBQUNBLFlBQVksZ0RBQW1CLENBQUMsMkNBQWM7QUFDOUMsUUFBUSxnREFBbUIsVUFBVSxvQ0FBb0M7QUFDekUsWUFBWSxnREFBbUIsVUFBVSxvQkFBb0I7QUFDN0QsZ0JBQWdCLGdEQUFtQixRQUFRLGdEQUFnRDtBQUMzRixnQkFBZ0IsZ0RBQW1CLFVBQVUsc0JBQXNCO0FBQ25FO0FBQ0EsaUVBQWUsS0FBSyxFQUFDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ1RvQjtBQUNvQjtBQUM3RCxpQ0FBaUMsNENBQVM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLGdEQUFtQixDQUFDLHVFQUFTO0FBQzVDO0FBQ0E7QUFDQSxpRUFBZSxrQkFBa0IsRUFBQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FDVmxDO0FBQ2tFO0FBQ1o7QUFDL0M7QUFDUCxXQUFXLHNEQUFLO0FBQ2hCO0FBQ087QUFDUCxXQUFXLHNEQUFLLENBQUMsa0VBQVk7QUFDN0I7QUFDTztBQUNQLFdBQVcsc0RBQUs7QUFDaEI7QUFDTztBQUNQLFdBQVcsdURBQU0sQ0FBQyxrRUFBWTtBQUM5QjtBQUNPO0FBQ1AsV0FBVyx3REFBTyxDQUFDLGtFQUFZO0FBQy9COzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNqQjBCO0FBQzRCO0FBQ047QUFDekM7QUFDUCxnQkFBZ0IsNkNBQUs7QUFDckIsb0JBQW9CLG1EQUFPLENBQUM7QUFDNUI7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLDZEQUFlLENBQUMscURBQVM7QUFDckQsU0FBUztBQUNUO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQzVCMEM7QUFDbkM7QUFDUCxXQUFXLHVEQUFRO0FBQ25CO0FBQ0E7QUFDTztBQUNQLFdBQVcsdURBQVE7QUFDbkI7QUFDQTtBQUNPO0FBQ1AsV0FBVyx1REFBUTtBQUNuQjtBQUNBO0FBQ087QUFDUCxXQUFXLHVEQUFRO0FBQ25CO0FBQ0E7Ozs7Ozs7Ozs7Ozs7Ozs7QUNoQk87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly91c2Vycy1saXZlLWRhc2hib2FyZC8uL3NyYy9jbGllbnQvY29tcG9uZW50cy9wb3B1cC9Qb3B1cC5zY3NzIiwid2VicGFjazovL3VzZXJzLWxpdmUtZGFzaGJvYXJkLy4vc3JjL2NsaWVudC9jb21wb25lbnRzL3BvcHVwL1BvcHVwLnNjc3M/ODIzOCIsIndlYnBhY2s6Ly91c2Vycy1saXZlLWRhc2hib2FyZC8uL3NyYy9jbGllbnQvY29tcG9uZW50cy9kYXNoYm9hcmQvRGFzaGJvYXJkLnRzeCIsIndlYnBhY2s6Ly91c2Vycy1saXZlLWRhc2hib2FyZC8uL3NyYy9jbGllbnQvY29tcG9uZW50cy9wb3B1cC9Qb3B1cC50c3giLCJ3ZWJwYWNrOi8vdXNlcnMtbGl2ZS1kYXNoYm9hcmQvLi9zcmMvY2xpZW50L2NvbnRhaW5lcnMvZGFzaGJvYXJkL0Rhc2hib2FyZENvbnRhaW5lci50c3giLCJ3ZWJwYWNrOi8vdXNlcnMtbGl2ZS1kYXNoYm9hcmQvLi9zcmMvY2xpZW50L3NlcnZpY2VzL2h0dHBTZXJ2aWNlLnRzeCIsIndlYnBhY2s6Ly91c2Vycy1saXZlLWRhc2hib2FyZC8uL3NyYy9jbGllbnQvdXRpbHMvaHR0cEJhc2VVdGlsLnRzeCIsIndlYnBhY2s6Ly91c2Vycy1saXZlLWRhc2hib2FyZC8uL3NyYy9jbGllbnQvdXRpbHMvaHR0cFV0aWwudHN4Iiwid2VicGFjazovL3VzZXJzLWxpdmUtZGFzaGJvYXJkLy4vc3JjL2NsaWVudC91dGlscy9zZXJpYWxpemVVdGlsLnRzeCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBgLnBvcHVwIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICB0b3A6IDUwJTtcbiAgbGVmdDogNTAlO1xuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcbiAgYmFja2dyb3VuZDogI2ZmZjtcbiAgcGFkZGluZzogMjBweDtcbiAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjIpO1xufVxuLnBvcHVwIC5jbG9zZSB7XG4gIGZsb2F0OiByaWdodDtcbiAgZm9udC1zaXplOiAzMHB4O1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gIGNsZWFyOiBib3RoO1xufVxuLnBvcHVwIC5jb250ZW50IHtcbiAgbWFyZ2luLXRvcDogNDBweDtcbiAgbWluLXdpZHRoOiA0MDBweDtcbn1gLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9jbGllbnQvY29tcG9uZW50cy9wb3B1cC9Qb3B1cC5zY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0VBQ0UsZUFBQTtFQUNBLFFBQUE7RUFDQSxTQUFBO0VBQ0EsZ0NBQUE7RUFDQSxnQkFBQTtFQUNBLGFBQUE7RUFDQSx1Q0FBQTtBQUNGO0FBQ0U7RUFDRSxZQUFBO0VBQ0EsZUFBQTtFQUNBLHFCQUFBO0VBQ0EsbUJBQUE7RUFDQSxXQUFBO0FBQ0o7QUFDRTtFQUNFLGdCQUFBO0VBQ0EsZ0JBQUE7QUFDSlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIucG9wdXAge1xcclxcbiAgcG9zaXRpb246IGZpeGVkO1xcclxcbiAgdG9wOiA1MCU7XFxyXFxuICBsZWZ0OiA1MCU7XFxyXFxuICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcXHJcXG4gIGJhY2tncm91bmQ6ICNmZmY7XFxyXFxuICBwYWRkaW5nOiAyMHB4O1xcclxcbiAgYm94LXNoYWRvdzogMCAwIDEwcHggcmdiYSgwLCAwLCAwLCAwLjIpO1xcclxcblxcclxcbiAgLmNsb3Nle1xcclxcbiAgICBmbG9hdDogcmlnaHQ7XFxyXFxuICAgIGZvbnQtc2l6ZTogMzBweDtcXHJcXG4gICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcclxcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xcclxcbiAgICBjbGVhcjogYm90aDtcXHJcXG4gIH1cXHJcXG4gIC5jb250ZW50IHtcXHJcXG4gICAgbWFyZ2luLXRvcDogNDBweDtcXHJcXG4gICAgbWluLXdpZHRoOiA0MDBweDtcXHJcXG4gIH1cXHJcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3Nhc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vUG9wdXAuc2Nzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9zYXNzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL1BvcHVwLnNjc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJ2YXIgX19hd2FpdGVyID0gKHRoaXMgJiYgdGhpcy5fX2F3YWl0ZXIpIHx8IGZ1bmN0aW9uICh0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcbiAgICBmdW5jdGlvbiBhZG9wdCh2YWx1ZSkgeyByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQID8gdmFsdWUgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHZhbHVlKTsgfSk7IH1cbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKSB7IHRyeSB7IHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfVxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBhZG9wdChyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cbiAgICAgICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pKS5uZXh0KCkpO1xuICAgIH0pO1xufTtcbmltcG9ydCBSZWFjdCwgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFBvcHVwIGZyb20gJy4uL3BvcHVwL1BvcHVwJzsgLy9Vc2VyIGRldGFpbHMgcG9wdXBcbmltcG9ydCB7IFBJTkdfREVMQVkgfSBmcm9tICcuLi8uLi9jb25maWcvY29uZmlnJztcbmltcG9ydCAqIGFzIGh0dHBTZXJ2aWNlIGZyb20gJy4uLy4uL3NlcnZpY2VzL2h0dHBTZXJ2aWNlJztcbmNvbnN0IERhc2hib2FyZCA9ICgpID0+IHtcbiAgICBjb25zdCBbdXNlckRhdGEsIHNldFVzZXJEYXRhXSA9IHVzZVN0YXRlKHt9KTtcbiAgICBjb25zdCBbdXNlckRldGFpbHMsIHNldFVzZXJEZXRhaWxzXSA9IHVzZVN0YXRlKHt9KTtcbiAgICBjb25zdCBbaXNMb2FkaW5nLCBzZXRJc0xvYWRpbmddID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IFtpc0Vycm9yLCBzZXRJc0Vycm9yXSA9IHVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbaXNPcGVuLCBzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpO1xuICAgIGNvbnN0IHRvZ2dsZVBvcHVwID0gKCkgPT4ge1xuICAgICAgICAvLyAgc2V0VXNlckluZm8odXNlcik7XG4gICAgICAgIHNldElzT3BlbighaXNPcGVuKTtcbiAgICB9O1xuICAgIGNvbnN0IGdldFVzZXJzID0gKCkgPT4gX19hd2FpdGVyKHZvaWQgMCwgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgICAgc2V0SXNFcnJvcihmYWxzZSk7XG4gICAgICAgIGxldCBqc29uRGF0YTtcbiAgICAgICAgbGV0IHNlc3Npb25faWQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc2Vzc2lvbl9pZCcpO1xuICAgICAgICBsZXQgc2Vzc2lvbl9pZF90ZXJtID0gJz9zZXNzaW9uX2lkPScgKyBzZXNzaW9uX2lkO1xuICAgICAgICBpZiAoIXNlc3Npb25faWQpIHtcbiAgICAgICAgICAgIHNlc3Npb25faWRfdGVybSA9ICcnO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHlpZWxkIGh0dHBTZXJ2aWNlLmZldGNoRW50aXR5KCd1c2VycycpO1xuICAgICAgICAgICAganNvbkRhdGEgPSB5aWVsZCByZXNwb25zZS5kYXRhLmRhdGE7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh7IGRhdGE6IGpzb25EYXRhIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgc2V0SXNFcnJvcih0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRVc2VyRGF0YShqc29uRGF0YSk7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfSk7XG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgZ2V0VXNlcnMoKTtcbiAgICAgICAgbGV0IHRpbWVyID0gc2V0SW50ZXJ2YWwoKCkgPT4gZ2V0VXNlcnMoKSwgUElOR19ERUxBWSk7XG4gICAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgICAgICBjbGVhckludGVydmFsKHRpbWVyKTtcbiAgICAgICAgICAgIHRpbWVyID0gbnVsbDtcbiAgICAgICAgfTtcbiAgICB9LCBbXSk7XG4gICAgY29uc3QgZ2V0VXNlciA9ICh1c2VyKSA9PiBfX2F3YWl0ZXIodm9pZCAwLCB2b2lkIDAsIHZvaWQgMCwgZnVuY3Rpb24qICgpIHtcbiAgICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgICBzZXRJc0Vycm9yKGZhbHNlKTtcbiAgICAgICAgbGV0IGpzb25EYXRhID0gW107XG4gICAgICAgIGxldCBzZXNzaW9uX2lkID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Nlc3Npb25faWQnKTtcbiAgICAgICAgbGV0IHNlc3Npb25faWRfdGVybSA9ICcmc2Vzc2lvbl9pZD0nICsgc2Vzc2lvbl9pZDtcbiAgICAgICAgaWYgKCFzZXNzaW9uX2lkKSB7XG4gICAgICAgICAgICBzZXNzaW9uX2lkX3Rlcm0gPSAnJztcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB5aWVsZCBodHRwU2VydmljZS5mZXRjaEVudGl0eUJ5SWQoJ29ubGluZV91c2VycycsIHVzZXIuaWQpO1xuICAgICAgICAgICAganNvbkRhdGEgPSB5aWVsZCByZXNwb25zZS5kYXRhLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyh7IGVycm9yIH0pO1xuICAgICAgICAgICAgc2V0SXNFcnJvcih0cnVlKTtcbiAgICAgICAgfVxuICAgICAgICBzZXRVc2VyRGV0YWlscyhqc29uRGF0YVswXSk7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfSk7XG4gICAgY29uc3QgaGFuZGxlQ2VsbENsaWNrID0gKHVzZXIpID0+IHtcbiAgICAgICAgZ2V0VXNlcih1c2VyKTtcbiAgICAgICAgdG9nZ2xlUG9wdXAoKTtcbiAgICB9O1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIiwgeyBjbGFzc05hbWU6IFwidXNlckxpc3RcIiB9LFxuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwidGFibGVcIiwgbnVsbCxcbiAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aGVhZFwiLCBudWxsLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0clwiLCB7IGNsYXNzTmFtZTogXCJuby1ob3ZlclwiIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgXCJJZFwiKSksXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgXCJVc2VybmFtZVwiKSksXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgXCJMb2dpbiB0aW1lXCIpKSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInRoXCIsIG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBcIkxhc3QgdXBkYXRlIHRpbWVcIikpLFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwidGhcIiwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIG51bGwsIFwiTGFzdCBMb2dpblwiKSksXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiLCBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgXCJVc2VyIElQXCIpKSkpLFxuICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInRib2R5XCIsIG51bGwsIHVzZXJEYXRhICYmXG4gICAgICAgICAgICAgICAgT2JqZWN0LmtleXModXNlckRhdGEpLm1hcCgoaW5kZXgpID0+IChSZWFjdC5jcmVhdGVFbGVtZW50KFwidHJcIiwgeyBpZDogdXNlckRhdGFbaW5kZXhdLmhhc2gsIGtleTogaW5kZXgsIG9uQ2xpY2s6ICgpID0+IGhhbmRsZUNlbGxDbGljayh1c2VyRGF0YVtpbmRleF0pIH0sXG4gICAgICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiLCBudWxsLCB1c2VyRGF0YVtpbmRleF0uaWQpLFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwidGRcIiwgbnVsbCwgdXNlckRhdGFbaW5kZXhdLmVtYWlsKSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInRkXCIsIG51bGwsIHVzZXJEYXRhW2luZGV4XS5sb2dpbl90aW1lKSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInRkXCIsIG51bGwsIHVzZXJEYXRhW2luZGV4XS5sYXN0X3VwZGF0ZV90aW1lKSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInRkXCIsIG51bGwsIHVzZXJEYXRhW2luZGV4XS5sYXN0X2xvZ2luKSxcbiAgICAgICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcInRkXCIsIG51bGwsIHVzZXJEYXRhW2luZGV4XS51c2VyX2lwKSkpKSkpLFxuICAgICAgICBpc09wZW4gJiYgKFJlYWN0LmNyZWF0ZUVsZW1lbnQoUG9wdXAsIHsgaGFuZGxlQ2xvc2U6IHRvZ2dsZVBvcHVwIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJiXCIsIG51bGwsIFwiRGV0YWlscyBvZiB1c2VyXCIpLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIFwiVXNlci1BZ2VudDogXCIsIHVzZXJEZXRhaWxzID09PSBudWxsIHx8IHVzZXJEZXRhaWxzID09PSB2b2lkIDAgPyB2b2lkIDAgOlxuICAgICAgICAgICAgICAgICAgICB1c2VyRGV0YWlscy51c2VyX2FnZW50KSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwicFwiLCBudWxsLFxuICAgICAgICAgICAgICAgICAgICBcIlJlZ2lzdGVyIHRpbWU6IFwiLCB1c2VyRGV0YWlscyA9PT0gbnVsbCB8fCB1c2VyRGV0YWlscyA9PT0gdm9pZCAwID8gdm9pZCAwIDpcbiAgICAgICAgICAgICAgICAgICAgdXNlckRldGFpbHMucmVnaXN0ZXJfdGltZSxcbiAgICAgICAgICAgICAgICAgICAgXCIgXCIpLFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwXCIsIG51bGwsXG4gICAgICAgICAgICAgICAgICAgIFwiTG9naW5zIGNvdW50OiBcIiwgdXNlckRldGFpbHMgPT09IG51bGwgfHwgdXNlckRldGFpbHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6XG4gICAgICAgICAgICAgICAgICAgIHVzZXJEZXRhaWxzLmxvZ2luc19jb3VudCkpKSkpKTtcbn07XG5leHBvcnQgZGVmYXVsdCBEYXNoYm9hcmQ7XG4iLCJpbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgJy4vUG9wdXAuc2Nzcyc7XG5jb25zdCBQb3B1cCA9IChwcm9wcykgPT4ge1xuICAgIHJldHVybiAoUmVhY3QuY3JlYXRlRWxlbWVudChSZWFjdC5GcmFnbWVudCwgbnVsbCxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGlkOiBcInBvcHVwMVwiLCBjbGFzc05hbWU6IFwib3ZlcmxheVwiIH0sXG4gICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHsgY2xhc3NOYW1lOiBcInBvcHVwXCIgfSxcbiAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFwiYVwiLCB7IGNsYXNzTmFtZTogXCJjbG9zZVwiLCBvbkNsaWNrOiBwcm9wcy5oYW5kbGVDbG9zZSB9LCBcIlxcdTAwRDdcIiksXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7IGNsYXNzTmFtZTogXCJjb250ZW50XCIgfSwgcHJvcHMuY2hpbGRyZW4pKSkpKTtcbn07XG5leHBvcnQgZGVmYXVsdCBQb3B1cDtcbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgRGFzaGJvYXJkIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvZGFzaGJvYXJkL0Rhc2hib2FyZCc7XG5jbGFzcyBEYXNoYm9hcmRDb250YWluZXIgZXh0ZW5kcyBDb21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgICAgIHN1cGVyKHByb3BzKTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChEYXNoYm9hcmQsIG51bGwpO1xuICAgIH1cbn1cbmV4cG9ydCBkZWZhdWx0IERhc2hib2FyZENvbnRhaW5lcjtcbiIsIi8vIEltcG9ydCBjdXN0b20gdXRpbHNcbmltcG9ydCB7IGZldGNoLCBzdG9yZSwgdXBkYXRlLCBkZXN0cm95IH0gZnJvbSAnLi4vdXRpbHMvaHR0cFV0aWwnO1xuaW1wb3J0IHsgZ2V0UGF0aFBhcmFtIH0gZnJvbSAnLi4vdXRpbHMvc2VyaWFsaXplVXRpbCc7XG5leHBvcnQgY29uc3QgZmV0Y2hFbnRpdHkgPSAoZW50aXR5TmFtZSkgPT4ge1xuICAgIHJldHVybiBmZXRjaChlbnRpdHlOYW1lLnRvTG93ZXJDYXNlKCkpO1xufTtcbmV4cG9ydCBjb25zdCBmZXRjaEVudGl0eUJ5SWQgPSAoZW50aXR5TmFtZSwgZGF0YUlkKSA9PiB7XG4gICAgcmV0dXJuIGZldGNoKGdldFBhdGhQYXJhbShlbnRpdHlOYW1lLnRvTG93ZXJDYXNlKCksIGRhdGFJZCkpO1xufTtcbmV4cG9ydCBjb25zdCBzdG9yZUVudGl0eSA9IChlbnRpdHlOYW1lLCBkYXRhKSA9PiB7XG4gICAgcmV0dXJuIHN0b3JlKGVudGl0eU5hbWUudG9Mb3dlckNhc2UoKSwgZGF0YSk7XG59O1xuZXhwb3J0IGNvbnN0IHVwZGF0ZUVudGl0eSA9IChlbnRpdHlOYW1lLCBkYXRhLCBkYXRhSWQpID0+IHtcbiAgICByZXR1cm4gdXBkYXRlKGdldFBhdGhQYXJhbShlbnRpdHlOYW1lLnRvTG93ZXJDYXNlKCksIGRhdGFJZCksIGRhdGEpO1xufTtcbmV4cG9ydCBjb25zdCBkZXN0cm95RW50aXR5ID0gKGVudGl0eU5hbWUsIGRhdGFJZCkgPT4ge1xuICAgIHJldHVybiBkZXN0cm95KGdldFBhdGhQYXJhbShlbnRpdHlOYW1lLnRvTG93ZXJDYXNlKCksIGRhdGFJZCkpO1xufTtcbiIsImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBBUElfVVJMLCBKV1RfVE9LRU4gfSBmcm9tICcuLi9jb25maWcvY29uZmlnJztcbmltcG9ydCB7IGdldExvY2FsU3RvcmFnZSB9IGZyb20gJy4vc3RvcmFnZVV0aWwnO1xuZXhwb3J0IGNvbnN0IGh0dHBCYXNlID0gKCkgPT4ge1xuICAgIGNvbnN0IGFwaSA9IGF4aW9zLmNyZWF0ZSh7XG4gICAgICAgIGJhc2VVUkw6IGAke0FQSV9VUkx9YCxcbiAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgICAnWC1YU1JGLVRPS0VOJzogZ2V0TG9jYWxTdG9yYWdlKEpXVF9UT0tFTilcbiAgICAgICAgfSxcbiAgICAgICAgcmVzcG9uc2VUeXBlOiAnanNvbidcbiAgICB9KTtcbiAgICBhcGkuaW50ZXJjZXB0b3JzLnJlc3BvbnNlLnVzZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgIH0sIGVycm9yID0+IHtcbiAgICAgICAgaWYgKDQwMSA9PT0gZXJyb3IucmVzcG9uc2Uuc3RhdHVzKSB7XG4gICAgICAgICAgICAvLyByZWRpcmVjdCB0byBsb2dpbiBwYWdlXG4gICAgICAgIH1cbiAgICAgICAgaWYgKDQwNCA9PT0gZXJyb3IucmVzcG9uc2Uuc3RhdHVzKSB7XG4gICAgICAgICAgICAvLyByZWRpcmVjdCB0byA0MDQgcGFnZVxuICAgICAgICB9XG4gICAgICAgIGlmICg1MDAgPT09IGVycm9yLnJlc3BvbnNlLnN0YXR1cykge1xuICAgICAgICAgICAgLy8gcmVkaXJlY3QgdG8gNTAwIHBhZ2VcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyb3IpO1xuICAgIH0pO1xuICAgIHJldHVybiBhcGk7XG59O1xuIiwiaW1wb3J0IHsgaHR0cEJhc2UgfSBmcm9tICcuL2h0dHBCYXNlVXRpbCc7XG5leHBvcnQgY29uc3QgZmV0Y2ggPSAoZW5kcG9pbnQpID0+IHtcbiAgICByZXR1cm4gaHR0cEJhc2UoKVxuICAgICAgICAuZ2V0KGVuZHBvaW50KTtcbn07XG5leHBvcnQgY29uc3Qgc3RvcmUgPSAoZW5kcG9pbnQsIGRhdGEpID0+IHtcbiAgICByZXR1cm4gaHR0cEJhc2UoKVxuICAgICAgICAucG9zdChlbmRwb2ludCwgZGF0YSk7XG59O1xuZXhwb3J0IGNvbnN0IHVwZGF0ZSA9IChlbmRwb2ludCwgZGF0YSkgPT4ge1xuICAgIHJldHVybiBodHRwQmFzZSgpXG4gICAgICAgIC5wdXQoZW5kcG9pbnQsIGRhdGEpO1xufTtcbmV4cG9ydCBjb25zdCBkZXN0cm95ID0gKGVuZHBvaW50KSA9PiB7XG4gICAgcmV0dXJuIGh0dHBCYXNlKClcbiAgICAgICAgLmRlbGV0ZShlbmRwb2ludCk7XG59O1xuIiwiZXhwb3J0IGZ1bmN0aW9uIGdldFF1ZXJ5UGFyYW0oZGF0YSkge1xuICAgIGlmICh0eXBlb2YgKGRhdGEpICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gJz8nICsgZGF0YTtcbiAgICB9XG4gICAgdmFyIHN0ciA9IFtdO1xuICAgIGZvciAodmFyIHAgaW4gZGF0YSkge1xuICAgICAgICBpZiAoZGF0YVtwXSAmJiBkYXRhLmhhc093blByb3BlcnR5KHApKSB7XG4gICAgICAgICAgICBzdHIucHVzaChlbmNvZGVVUklDb21wb25lbnQocCkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoZGF0YVtwXSkpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiAnPycgKyBzdHIuam9pbignJicpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldFBhdGhQYXJhbSguLi5hcmdzKSB7XG4gICAgdmFyIHBhcmFtcyA9IFtdO1xuICAgIGZvciAodmFyIGEgaW4gYXJncykge1xuICAgICAgICBwYXJhbXMucHVzaChhcmdzW2FdKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcmFtcy5qb2luKCcvJyk7XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=